files:
  - name: Dockerfile
    content: |
      FROM golang:1.20.1-alpine3.13

      WORKDIR /go/src/app
      COPY . .

      RUN go build -o app .

      CMD ["./app"]

      EXPOSE {{.Port}}
  - name: main.go
    content: |
      package main

      import (
        "fmt"
        "net/http"
      )

      func main() {
        http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
          fmt.Fprintf(w, "Hello, %s from {{.Host}}", r.URL.Path[1:])
        })

        http.ListenAndServe(":{{.Port}}", nil)
      }
  - name: go.mod
    content: |
      module example

      go 1.20

# scaffolder.Scaffold("tmpl/example.yaml", "my-project-yaml", map[string]string{
# "Host": "Joel",
# "Port": "3000",
# })  
